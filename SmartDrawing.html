<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: SmartDrawing</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: SmartDrawing</h1>

    




<section>

<header>
    
        <h2>
        SmartDrawing
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="SmartDrawing"><span class="type-signature"></span>new SmartDrawing<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Smart Drawing cordova/kapsel plugin enables Fiori apps to integarte with drawings provided by Smart Drawing app which shows drawingusing native code and enables end user interact fiori app from the drawing itself.While running under the cordova/phonegap the plugin is accessible by the path window.plugins.SmartDrawing .
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~observerCheckObjectAction"><span class="type-signature">(inner) </span>observerCheckObjectAction<span class="type-signature"></span></h4>




<div class="description">
    List of observers that interested to respond on 'check object action' event from Smart Drawing app. See also <a href="SmartDrawing.html#.onCheckObjectAction">SmartDrawing.onCheckObjectAction</a>and <a href="SmartDrawing.html#.removeOnCheckObjectAction">SmartDrawing.removeOnCheckObjectAction</a>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".canShowDrawing"><span class="type-signature">(static) </span>canShowDrawing<span class="signature">(drawingId, result, fail)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function checks if the given drawingId is known to SmartDrawing app and returns true/false value in result callback.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>drawingId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the drawing to show.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackCanShowDrawing">callbackCanShowDrawing</a></span>


            
            </td>

            

            

            <td class="description last">Callback function with results of check. See description of the <a href="global.html#callbackCanShowDrawing">callbackCanShowDrawing</a> function for parameter details</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line271">line 271</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".canShowEquipment"><span class="type-signature">(static) </span>canShowEquipment<span class="signature">(equipmentId, result, fail)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function checks if the given equipmentId is known to SmartDrawing app and returns the list of Smart Drawing Ids and descriptions where this equipment can be found.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>equipmentId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the equipment.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackCanShowEquipment">callbackCanShowEquipment</a></span>


            
            </td>

            

            

            <td class="description last">Callback function with results of check. See description of the <a href="global.html#callbackCanShowEquipment">callbackCanShowEquipment</a> function for parameter details</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line214">line 214</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var sEquipmentId = view.getBindingContext().getProperty("Equipmentid");	if (window.plugins &amp;&amp; window.plugins.SmartDrawing) {		window.plugins.SmartDrawing.canShowEquipment(sEquipmentId,			//result			function(result) {				var drawingsArr = JSON.parse(result);					for (var i = 0, len = drawingsArr.length; i&lt;len; i++){						var drawing = drawingsArr[i];						var oButton = new sap.m.Button({							text : "Open " + drawing.drawingName,							icon : "images/SD_logo_black_48.png",							width : "100%",							press : showSmartDrawing(drawing.drawingId);						});						view.byId("smartDrawingButtons").addContent(oButton);					}			},			//failure			function(err) {				MessageToast.show("SmartDrawing plugin call failed " + err);			});	}</code></pre>



        
            

    

    <h4 class="name" id=".onCheckObjectAction"><span class="type-signature">(static) </span>onCheckObjectAction<span class="signature">(appId, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This event listener receives notification from the Smart Drawing app that user opened some equipment for view and app is checking what additionalactions other apps can provide to user on currently selected equipment. Fiori apps that are interested in responding to Smart Drawing and wantsto show their actions in Smart Drawing informational panel shall subscribe to this event by calling this function and pass inside their own callbackfunction of type <a href="global.html#callbackCheckObjectAction">callbackCheckObjectAction</a>.This callback has parameter actionNotifier (type <a href="SmartDrawing.html#~actionNotifier">SmartDrawing~actionNotifier</a>) and if, after analysis, Fiori app decides to show its action and icon insideSmart Drawing UI, it shall invoke a callback <a href="SmartDrawing.html#~actionNotifier">SmartDrawing~actionNotifier</a> and pass inside app decsriptions like name, action, icon and call contextinside <a href="global.html#ApplicationContext">ApplicationContext</a> data object. This descriptor is later used by Smart Drawing app to render action on information panel insideSmart Drawing app and its property callContext will be passed back from Smart Drawing to plugin as part of 'Open Fiori App' event in case user taps on given action.See details of <a href="global.html#callbackCheckObjectAction">callbackCheckObjectAction</a> for further information on parameters and response required. To remove your listener use <a href="SmartDrawing.html#.removeOnCheckObjectAction">SmartDrawing.removeOnCheckObjectAction</a>.<ol>The execution flow is like this:<li>User taps on some object (for example equipment) in Smart Drawing app.</li><li>Smart Drawing app is sending broadcast intent to every Android app interested about object selected on smart drawing.</li><li>Plugin responds on this broadcast intent and calls every subscriber that registerd to in with <a href="SmartDrawing.html#.onCheckObjectAction">SmartDrawing.onCheckObjectAction</a>, passing inside<a href="global.html#ActionCheckContext">ActionCheckContext</a> object.</li><li>Subscriber inside of <a href="global.html#callbackCheckObjectAction">callbackCheckObjectAction</a> checks if the object selected in Smart Drawing app is in any interest to him and in case it can propose someaction to get done on the selected object (for example show active work orders for selected equipment) prepares the response <a href="global.html#ApplicationContext">ApplicationContext</a> objectand calls the <a href="SmartDrawing.html#~actionNotifier">SmartDrawing~actionNotifier</a> to notify Smart Drawing app and draw the action element in information panel for selected equipment.</li><li>Plugin passes this information to Smart Drawing app so inside Smart Drawing app corresponding action will be added in information panel for currently selected equipment.</li><li>If inside Smart Drawing app user decides to execute proposed action and taps on action button in information panel, the call to Smart Drawing pluginwill be initiated and property <i>callbackContext</i> from <a href="global.html#ApplicationContext">ApplicationContext</a> will be returned back to <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a>.</li></ol>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>appId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Fiori app id that registers for event notification.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackCheckObjectAction">callbackCheckObjectAction</a></span>


            
            </td>

            

            

            <td class="description last">Event listener to check object and decide if Fiori app is interested to subscribe action to passed object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line301">line 301</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>//Subscribe for events from Smart Drawing to test if particular equipment id is known and will be handled	// by Fiori app in Component.js init() method. Do not forget to unsubscribe from it in exit() method. // ... somewhere in init():	if (window.plugins &amp;&amp; window.plugins.SmartDrawing) {		var appId = this.getMetadata().getManifest()["sap.app"].id;				window.plugins.SmartDrawing.onCheckObjectAction(appId, function(callContext, actionNotifier){						//at the moment send back the subscription immediatelly without checking the model/server			if ((callContext) &amp;&amp; (callContext.equipmentId)) {								//Obtain cross app navigation interface				var fgetService =  sap.ushell &amp;&amp; sap.ushell.Container &amp;&amp; sap.ushell.Container.getService;				var oCrossAppNavigator = fgetService &amp;&amp; fgetService("CrossApplicationNavigation");								var appContext = {					"equipmentId"	: callContext.equipmentId,					"name" : "My work order app",					"actionLabel" : "Call directly app",						//keel fiori icon					"imageBase64" : "iVBORw0KGgoAAAANSUhEUgA...",  //replace with your image in base64 encoding					"callbackContext" : oCrossAppNavigator.hrefForAppSpecificHash("SMD_call") 				};								actionNotifier(appContext);			}					});			}	 // ...somewhere in exit():	//remove listener for onCheckObjectAction	if (window.plugins &amp;&amp; window.plugins.SmartDrawing) {		var appId = this.getMetadata().getManifest()["sap.app"].id;				window.plugins.SmartDrawing.removeOnCheckObjectAction(appId);	}</code></pre>



        
            

    

    <h4 class="name" id=".removeOnCheckObjectAction"><span class="type-signature">(static) </span>removeOnCheckObjectAction<span class="signature">(appId, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function removes event listener for receiving notification from the Smart Drawing app about equipment opened on Smart Drawing app set by<a href="SmartDrawing.html#.onCheckObjectAction">SmartDrawing.onCheckObjectAction</a>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>appId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Fiori app id that registers for event notification.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackCheckObjectAction">callbackCheckObjectAction</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Registered callback, if empty/not passed all callbacks will be removed for given appId</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line425">line 425</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".showData"><span class="type-signature">(static) </span>showData<span class="signature">(label, equipmentArr, fail<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Shows list of equipment in Smart Drawing app using native platform capabilities. The app will open drawing, highlight all equipment with corresponding colorsand zoom the drawing in a way to put all shown equipment into visible area.When user tap on some equipment highlighted, basic information about known to Smart Drawing app will be shown in Information panel. A caller has also possibility to supply owninformation to be shown using label and equipmentArr parameters.Before showing, you can check by Smart Drawing if equipment can be shown using  <a href="SmartDrawing.html#.canShowEquipment">canShowEquipment</a> function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>label</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Label of the info block in smart drawing information section.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>equipmentArr</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#EquipmentData">EquipmentData</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Array of equipment data that shall be shown to smart drawing, at minimum it shall include equipmentId of equipment to be shown. See explanation of <a href="global.html#EquipmentData">EquipmentData</a> object fields for more information.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var sEquipmentId = this.getView().getBindingContext().getProperty("Equipmentid");	var sDrawingId = this.getView().getBindingContext().getProperty("Drawingid");	//prepare JSON data	var equipment = {		equipmentId: sEquipmentId,		color: "#ff0000",		status: "Active",		info: []	};	var equipmentArr = [];	equipmentArr.push(equipment);	//call Smart Drawing plugin	if (window.plugins &amp;&amp; window.plugins.SmartDrawing) {		window.plugins.SmartDrawing.showData("Fiori work order", sDrawingId, equipmentArr,			//failure			function(err) {				MessageToast.show("SmartDrawing plugin call failed " + err);			});  }</code></pre>



        
            

    

    <h4 class="name" id=".showDrawing"><span class="type-signature">(static) </span>showDrawing<span class="signature">(drawingId, fail<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Shows drawing in Smart Drawing app using native platform capabilities. Before showing, you can check by smart darwing if drawing can be shown using  <a href="SmartDrawing.html#.canShowDrawing">canShowDrawing</a> function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>drawingId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">ID of the drawing to show.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".showEquipment"><span class="type-signature">(static) </span>showEquipment<span class="signature">(label, equipmentData, fail<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Shows equipment in Smart Drawing app using native platform capabilities. The app will open drawing, highlight equipment and zoomthe drawing to see equipment.Basic information about equipment known to Smart Drawing app will be shown in Information panel. A caller can also supply owninformation to be shown using label and equipmentData parameters.Before showing, you can check by Smart Drawing if equipment can be shown using  <a href="SmartDrawing.html#.canShowEquipment">canShowEquipment</a> function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>label</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Label of the info block in smart drawing information section.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>equipmentData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#EquipmentData">EquipmentData</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Information about equipment that shall be shown on Smart Drawing, at minimum it shall include equipmentId of equipment to be shown. See explanation of <a href="global.html#EquipmentData">EquipmentData</a> object fields for more information..</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line101">line 101</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".showToast"><span class="type-signature">(static) </span>showToast<span class="signature">(message, success<span class="signature-attributes">opt</span>, fail<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Simple android native Toast message function - can be used to reaise notificatio or during development to test interaction with Smart Drawing plugin.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Toast message.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>success</code></td>
            

            <td class="type">
            
                
<span class="param-type">callbackSuccess</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function called in case of success call to Smart Drawing plugin.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line449">line 449</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>if (window.plugins &amp;&amp; window.plugins.SmartDrawing) {		window.plugins.SmartDrawing.showToast("Hello world");	}</code></pre>



        
            

    

    <h4 class="name" id="~actionNotifier"><span class="type-signature">(inner) </span>actionNotifier<span class="signature">(appContext)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function notifies Smart Drawing app that some action can be executed by Fiori app on currently selected equipment.Fiori apps that is interested to show up for this equipment will call this function from <a href="SmartDrawing.html#.onCheckObjectAction">SmartDrawing.onCheckObjectAction</a> listener and in caseobject is suitable and Fiori app wants to show its icon on Smart Drawing informational panel than Firoi app will call <a href="SmartDrawing.html#~actionNotifier">SmartDrawing~actionNotifier</a>function with <a href="global.html#ApplicationContext">ApplicationContext</a> data object. This object contains all information required by Smart Drawing app to render action icon and alsohas property <i>"callbackContext"</i> with application specific information that is sent back with event 'Open Fiori App' and processed by listener <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a>in case user taps on given action.<br/><br/><b>Note:</b> When forming <a href="global.html#ApplicationContext">ApplicationContext</a> object properties we expect Fiori app to store in <i>"callbackContext"</i> property the shell hash for Fiori launchpadpointing to the application and its view. This information will be used by listener to "Open Fiori App" event inside plugin in order to force Fiori launchpadopen the application to user.See details of <a href="global.html#ApplicationContext">ApplicationContext</a> for further information about structure of response object that shall be passed to Smart Drawing app from plugin.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>appContext</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ApplicationContext">ApplicationContext</a></span>


            
            </td>

            

            

            <td class="description last">Context describing what object was selected on Smart Drawing so Fiori app can analyse it and decide if it wants to.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line482">line 482</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~onDeviceReady"><span class="type-signature">(inner) </span>onDeviceReady<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Internal function used to prepare smart drawing plugin to work, is called after plugin Java and JS content is fully loaded.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line1029">line 1029</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~onOpenFioriApp"><span class="type-signature">(inner) </span>onOpenFioriApp<span class="signature">(callback, fail)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This is internal event listener that is used by Smart Drawing plugin to receive actions from Smart Drawing appre-route/run corresponding app in Fiori. The listener is registered at the moment when plugin initializes (see <a href="SmartDrawing.html#~onDeviceReady">SmartDrawing~onDeviceReady</a>) and is active as long as Fiori app is working.In most cases it is not needed to redefine it as all required work is already done for user.<ol>The execution flow is like following:<li>Inside Smart Drawing app, when some equipment is selected and informational panel is shown user taps on some action proposed from Fiori app.</li><li>Smart Drawing app triggers Android intent to Fiori Client app providing the <a href="global.html#FioriAppContext">FioriAppContext</a> information.</li><li>Callback <a href="global.html#callbackOpenFioriApp">callbackOpenFioriApp</a> registered by plugin with <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a> is called with  <a href="global.html#FioriAppContext">FioriAppContext</a>.</li><li>Inside callback plugins adds a new hash entry in Fiori sap.ushell.Container.servces.ShellNavigation.hashChanger in order to mark themoment when user entered the Firoi client.</li><li>Plugin calls sap.ushell.servces.CrossApplicationNavigation in order to havigate to hash passed in <a href="global.html#FioriAppContext">FioriAppContext</a>.</li><li>User works inside Fiori app, open some views, drill down to details or change to another objects.</li><li>At same point of time user wants to return back to Smart Drawing app and uses Fiori 'back' buttons or Android 'back' button to return from Fiori app (and Firoi client) to Smart Drawing.</li><li>The hash filter function registerd with <a href="SmartDrawing.html#~subscribeFioriReady">SmartDrawing~subscribeFioriReady</a> identifies that Fiori reached in history the hash with flag plugin added at p.4 and calls plugin function<a href="SmartDrawing.html#~returnToSmartDrawingApp">SmartDrawing~returnToSmartDrawingApp</a>.</li><li><a href="SmartDrawing.html#~returnToSmartDrawingApp">SmartDrawing~returnToSmartDrawingApp</a> triggers Android native fucntionality to hide Fiori Client app and put in front the Smart Drawing app.</li></ol>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackOpenFioriApp">callbackOpenFioriApp</a></span>


            
            </td>

            

            

            <td class="description last">Callback function with results of check. See description of the <a href="global.html#callbackOpenFioriApp">callbackOpenFioriApp</a> function for parameter details</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fail</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callbackFail">callbackFail</a></span>


            
            </td>

            

            

            <td class="description last">Callback function called in case of failure in Smart Drawing app or plugin during subscription to event.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line710">line 710</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~returnToSmartDrawingApp"><span class="type-signature">(inner) </span>returnToSmartDrawingApp<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    This is internal function that is used to change in android from Fiori client back to Smart Drawing app.When intent from Smart Drawing app to Fiori Client app is initiated inside lisetner <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a>(subscribed in <a href="SmartDrawing.html#~onDeviceReady">SmartDrawing~onDeviceReady</a>) plugin will add in history a special url hash part to mark entrypoint from Smart Drawing app intent in navigation history. When user pressed 'back' in Fiori client and reached thishash value plugin will call our function to return from Firoi Client app back to Smart Drawing app insted of traversingfurther down in history.See also description of <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a>, checking of the hash part of url is made inside of <a href="SmartDrawing.html#~subscribeFioriReady">SmartDrawing~subscribeFioriReady</a>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line764">line 764</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~subscribeFioriReady"><span class="type-signature">(inner) </span>subscribeFioriReady<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    This is internal function subscribes to hash processing finter inside of sap.ushell.Container.servces.ShellNavigationand checks if by traversing the history we are getting to the url with hash part with label that it was inserted duringSmart Drawing app intent call to Firoi client. If this situation occur plugin will redirect Firoi client ot home page andtrigger Android to put Smart Drawing app in front of user as from the user perspective this is a natural screen flow.See also description of <a href="SmartDrawing.html#~onOpenFioriApp">SmartDrawing~onOpenFioriApp</a> for execution flow and further information.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line783">line 783</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~subscribeResponsesOnCheckAction"><span class="type-signature">(inner) </span>subscribeResponsesOnCheckAction<span class="signature">(smdSubscribers)</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function notifies Smart Drawing plugin about subscribers to 'on check action' event thatshall be always sent back to Smart Drawing (e.g. their action is always visible and do nto requireany checks inside Fiori app).<br/>In order to let Fiori app unconditionally subscribe to 'on check action' it is required toadd in app tile configuration for Firoi launchpad following additional navigation properties:<ul><li><b>SMD_imageBase64</b> - Define this property and inside default value provide base64 content or URL toimage that shall be used as icon for app tile inside Smart Drawing app. The URL can be full quialified orrelative URL pointing to Fiori app internal resources.</li><li><b>SMD_actionType</b> - So far only value <i>always</i> is supported. This value shall be put as defaultvalue and will tell plugin to subscribe the app to all 'on check action' events automatically.</li><li>Checkbox <b>Allow additional user-defined parameters</b> shall be set to 'true' for passing otherparameters to app from plugin during the app call.</li></ul><b>Note:</b> other app information like name, subtitle, sematic object and action will be read from tileconfiguration and must be maintained there.For property configuration see SAP Help (https://help.hana.ondemand.com/cloud_portal/frameset.htm?abb7e8ccfc684f0e975322326981ae62.html).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>smdSubscribers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object with property names like app subscriber has and app context.object (type <a href="global.html#ApplicationContext">ApplicationContext</a>) as property value.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="smartdrawing.js.html">smartdrawing.js</a>, <a href="smartdrawing.js.html#line511">line 511</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="SmartDrawing.html">SmartDrawing</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Fri Nov 27 2015 13:12:06 GMT+0200 (FLE Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>